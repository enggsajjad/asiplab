Version {2.3}

FileType {
  Initial
}

Database {
  path  {./}
  sufix {pdb}
  type  {ASIP Meister Datafile}
}

DesignBrowser {
  Width  {720}
  Height {400}
  Column {3}
  Row    {4}
  TopItem {
    0 {
      pos    {0,0}
      title  {Design Goal & Arch. Design}
      icon   {share/icons/archicon.xbm}
      action {peas3.ArchFrame}
    } 
    1 {
      pos    {0,1}
      title  {Resource Declaration}
      icon   {share/icons/resicon.xbm}
      action {peas3.ResFrame}
    } 
    2 {
      pos    {0,2}
      title  {Storage Spec}
      icon   {share/icons/storage.xbm}
      action {peas3.StorageSpec}
    } 
    3 {
      pos    {1,0}
      title  {Interface Definition}
      icon   {share/icons/entity.xbm}
      action {peas3.EntityFrame}
    }
    4 {
      pos    {1,1}
      title  {Instruction Definition}
      icon   {share/icons/instdef.xbm}
      action {peas3.InstFrame}
    } 
    5 {
      pos    {1,2}
      title  {Arch. Level Estimation}
      icon   {share/icons/archest.xbm}
      action {peas3.ArchEstFrame}
    }
    6 {
      pos    {2,0}
      title  {Assembler Generation}
      icon   {share/icons/asmgen.xbm}
      action {peas3.AsmGenFrame}
    }
    7 {
      pos    {2,1}
      title  {Micro Op. Description}
      icon   {share/icons/moticon.xbm}
      action {peas3.MicroFrame}
    } 
    8 {
      pos    {2,2}
      title  {HDL Generation}
      icon   {share/icons/rtgen.xbm}
      action {peas3.ModelFrame}
    }
    9 {
      pos    {3,0}
      title  {C Definition}
      icon   {share/icons/cdef.xbm}
      action {peas3.CdefFrame}
    }
    10 {
      pos    {3,1}
      title  {Compiler Generation}
      icon   {share/icons/comgen.xbm}
      action {peas3.SWdevFrame}
    }
    11 {
      pos    {3,2}
      title  {}
      icon   {share/icons/logo.png}
      action {peas3.VerFrame}
    }
  }
  Dependency {
    1 {0}
    2 {1}
    3 {0}
    4 {2 3}
    5 {4}
    6 {4}
    7 {4}
    8 {7}
	9 {4}
	10 {9}
  }
  CompilerStep {9 10}
}

FHM {
  service {
    hostname {localhost}
    portnum  {55555}
    timeout  {50000}
  }
}

AbsLevelArch {
  Projectname {
    midTitle {}
    label    {Project name}
    method   {entry}
    select   {ASIP Meister Project}
  }
  FhmWorkname {
    midTitle {Fhm_workname}
    label    {Fhm workname}
    method   {entry}
    select   {FHM_work}
    enable   {false}
  }
  Revision {
    midTitle {}
    label    {Revision No.}
    method   {message}
    select   {ver 1.0 : ASIP Meister Project}
  }
  DesignConst{
    midTitle {}
    method   {list Design_Goal}
    Design_Goal{
      midTitle {construciton}
      Area {
	midTitle {Goal_area}
	label    {Goal Area}
	method   {integer}
	unit     {[gates]}
	select   {}
      }
      Delay {
	midTitle {Goal_delay}
	label    {Goal Delay}
	method   {integer}
	unit     {[ns]}
	select   {}
      }
      PowerS {
	midTitle {Goal_power_S}
	label    {Goal Power S}
	method   {integer}
	unit     {[uW/MHz]}
	select   {}
      }    
    }
  }
  Priority {
    midTitle {Priority}
    label    {Design Priority}
    method   {radiobutton Area Performance Power}
    select   {Area}
  }
  CPUtype {
    midTitle {CPU_type}
    label    {CPU type}
    method   {radiobutton  Pipeline }
    select   {Pipeline}
    Pipeline {
      midTitle {Pipeline_architecture}
      StageNum {
	midTitle {Number_of_stages}
	label    {Num. of Stages}
	method   {factor stage}
	unit     {}
	select   {5}
      }
      CommonStageNum {
	midTitle {Number_of_common_stages}
	label    {Num. of Common Stages}
	method   {integer}
	unit     {}
	select   {0}
	enable   {false}
      }
      DecodeStage{
	midTitle {}
	label    {Decode Stage}
	method   {integer}
	unit     {[-th]}
	select   {2}
      }
      StageDef{
	midTitle {Stage_Definition}
	method   {dylist stage}
	stage {
	  midTitle {stage}
	  1 {
	    midTitle {stage1}
	    label    {1}
	    method   {specified}
	    unit     {[cycle]}
	    select   {IF,1,fetch}
	  }
	  2 {
	    midTitle {stage2}
	    label    {2}
	    method   {specified}
	    unit     {[cycle]}
	    select   {ID,1,decode}
	  }
	  3 {
	    midTitle {stage3}
	    label    {3}
	    method   {specified}
	    unit     {[cycle]}
	    select   {EXE,1,exec}
	  }
	  4 {
	    midTitle {stage4}
	    label    {4}
	    method   {specified}
	    unit     {[cycle]}
	    select   {MEM,1,memory_read & memory_write}
	  }
	  5 {
	    midTitle {stage5}
	    label    {5}
	    method   {specified}
	    unit     {[cycle]}
	    select   {WB,1,register_write}
	  }
	}
      }
      MultiscInterlock {
	midTitle {Multi_cycle_interlock}
	label    {Multi cycle interlock}
	method   {radiobutton Yes No}
	select   {Yes}
	enable   {false}
      }
      DataHazInterlock {
	midTitle {Data_hazard_interlock}
	label    {Data hazard interlock}
	method   {radiobutton Yes No}
	select   {No}
	enable   {false}
      }
      RegBypass {
	midTitle {Register_bypass}
	label    {Register bypass}
	method   {radiobutton Yes No}
	select   {No}
	enable   {false}	
      }
      DlydBranch {
	midTitle {Delayed_branch}
	label    {Delayed branch}
	method   {radiobutton Yes No }
	select   {Yes}
	Yes{
	  midTitle {Number_of_exec_delayed_slot}
	  DelaySlot {
	    midTitle {number}
	    label    {Num. of delayed slot}
	    method   {integer}
	    unit     {[instruction]}
	    select   {1}
	  }
	}
      }    
    }
  } 
  MAXInstBitWidth {
    midTitle {MAX_instruction_bit_width}
    label    {Max inst. bit width} 
    method   {integer}
    unit     {[bit]}
    select   {32}
  } 
  MAXDataBitWidth {
    midTitle {MAX_data_width}
    label    {Max data bit width} 
    method   {integer}
    unit     {[bit]}
    select   {32} 
  }
  ProcessorDesign {
    midTitle {Processor_design}
    label    {Processor design} 
    method   {radiobuttonDesign "New Design" "New Design with Base Processor" "Base Processor Design"}
    select   {New Design} 
  }
  UseCompiler {
    midTitle {Use_compiler}
    label    {Use compiler} 
    method   {radiobuttonCom Yes No}
    select   {No} 
  }
}

ResourceDecl {
  Rule {
    Simulation {
      method {radiobutton Behavior RT Gate}
      select {Behavior}
    }
    Synthesis {
      method {radiobutton Behavior RT Gate}
      select {Gate}
    }
  }
}

InstructionDecl {
  Rule {
    OP-code  {binary name}
    Operand  {name}
    Reserved {binary}
    Dont_care {name}
  }
  Edit {
    1 {
      Type {
	FieldType {OP-code}
	FieldAttr {name}
      }
      Instruction {
	FieldType {OP-code}
	FieldAttr {binary}
      }
    }
  }
} 

EntityDecl {
  Rule {
    Type {in out inout}
  }
  ComponentName {}
  Entity {
    0 {
      valid     {true}
      name      {CLK}
      type      {in}
      entity    {1}
      attribute {clock}
    }
    1 {
      valid     {true}
      name      {Reset}
      type      {in}
      entity    {1}
      attribute {reset}
    }
    2{
	valid		{false}
	name		{}
	type		{out}
	entity		{32}
	attribute	{instruction_memory_address_bus}
    }
    3{
	valid		{false}
	name		{}
	type		{in}
	entity		{32}
	attribute	{instruction_memory_data_in_bus}
    }
    4{
	valid		{false}
	name		{}
	type		{out}
	entity		{32}
	attribute	{instruction_memory_data_out_bus}
    }
    5{
	valid		{false}
	name		{}
	type		{out}
	entity		{1}
	attribute	{instruction_memory_request_bus}
    }
    6{
	valid		{false}
	name		{}
	type		{in}
	entity		{1}
	attribute	{instruction_memory_acknowledge_bus}
    }
    7{
	valid		{false}
	name		{}
	type		{out}
	entity		{1}
	attribute	{instruction_memory_rw_bus}
    }
    8{
	valid		{false}
	name		{}
	type		{out}
	entity		{2}
	attribute	{instruction_memory_write_mode_bus}
    }
    9{
	valid		{false}
	name		{}
	type		{out}
	entity		{1}
	attribute	{instruction_memory_ext_mode_bus}
    }
    10{
	valid		{false}
	name		{}
	type		{in}
	entity		{1}
	attribute	{instruction_memory_address_error_bus}
    }
    11{
	valid		{false}
	name		{}
	type		{out}
	entity		{1}
	attribute	{instruction_memory_cancel_bus}
    }
    12{
	valid		{false}
	name		{}
	type		{out}
	entity		{32}
	attribute	{data_memory_address_bus}
    }
    13{
	valid		{false}
	name		{}
	type		{in}
	entity		{32}
	attribute	{data_memory_data_in_bus}
    }
    14{
	valid		{false}
	name		{}
	type		{out}
	entity		{32}
	attribute	{data_memory_data_out_bus}
    }
    15{
	valid		{false}
	name		{}
	type		{out}
	entity		{1}
	attribute	{data_memory_request_bus}
    }
    16{
	valid		{false}
	name		{}
	type		{in}
	entity		{1}
	attribute	{data_memory_acknowledge_bus}
    }
    17{
	valid		{false}
	name		{}
	type		{out}
	entity		{1}
	attribute	{data_memory_rw_bus}
    }
    18{
	valid		{false}
	name		{}
	type		{out}
	entity		{2}
	attribute	{data_memory_write_mode_bus}
    }
    19{
	valid		{false}
	name		{}
	type		{out}
	entity		{1}
	attribute	{data_memory_ext_mode_bus}
    }
    20{
	valid		{false}
	name		{}
	type		{in}
	entity		{1}
	attribute	{data_memory_address_error_bus}
    }
    21{
	valid		{false}
	name		{}
	type		{out}
	entity		{1}
	attribute	{data_memory_cancel_bus}
    }
    22{
	valid		{false}
	name		{}
	type		{in}
	entity		{1}
	attribute	{interrupt}
    }
    23{
	valid		{false}
	name		{}
	type		{out}
	entity		{}
	attribute	{unspecified}
    }
  }
}

OperationDesc {
}

StorageSpec { 
}

CdefinitionDecl {
  C_data_type {
    0 {
      type	{char}
      alignment	{8}
      size	{8}
    }
    1 {
      type	{short}
      alignment	{16}
      size	{16}
    }
    2 { 
      type	{int}
      alignment	{32}
      size	{32}
    }
    3 { 
      type	{long}
      alignment	{32}
      size	{32}
    }
    4 { 
      type	{float}
      alignment	{32}
      size	{32}
    }
    5 { 
      type	{double}
      alignment	{64}
      size	{64}
    }
    6 { 
      type	{pointer}
      alignment	{32}
      size	{32}
    }
    7 { 
      type	{struct}
      alignment	{8}
      size	{none}
    }
    8 { 
      type	{stack}
      alignment	{32}
      size	{none}
    }
    9 { 
      type	{data}
      alignment	{8}
      size	{none}
    }
  }
}

MOD {
}

Estimation {
  ArchLevel {
    engine {
      0 {
	title  {Arch. Level Estimation}
	action {command archest %f.arc %f_arc.log}
	design {meister/%f.arc}
	log    {meister/%f_arc.log}
      }
    }
  }
  BehaviorLevel {
    engine {
      0 {
	title  {local engine}
	action {command bhvrest %f meister/%f.bhv meister/%f_bhv.log}
	design {meister/%f.bhv}
	log    {meister/%f_bhv.log}
      }
    }
  }
  RTLevel {
    engine {
      0 {
	title  {local engine}
	action {command rtest %f meister/%f_rt.log}
	design {meister/%f.rt}
	log    {meister/%f_rt.log}
      }
    }
  }
 }

Generation {
  ISSmodel {
    engine {
      0 {
	title  {local engine}
	action {command issgen %f %f.iss %f_iss.log}
	design {meister/%f.iss}
	log    {meister/%f_iss.log}
      }
    }
  }
  Model {
    engine {
      0 {
	title  {simulation model}
	action {command modelgen sim %f %f_mod.log}
	design {meister/%f.mod}
	log    {meister/%f_mod.log}
      }
      1 {
	title  {synthesizable model}
	action {command modelgen syn %f %f_mod.log}
	design {meister/%f.mod}
	log    {meister/%f_mod.log}
      }
      2 {
	title  {sim.model and syn. model}
	action {command modelgen both %f %f_mod.log}
	design {meister/%f.mod}
	log    {meister/%f_mod.log}
      }
    }
    lang {
      0 {VHDL}
      1 {Verilog}
      2 {SystemC}
    }
  }
}

SW_Generation {
  SWmodel{
    engine {
      0 {
	title  {Input Description Generation}
	action {SW_command gnugen_translator descgen %f %f_com.log}
	design {meister/%f.tr}
	log    {meister/%f_com.log}
       }	
      1 {
	title  {GNU Tools Generation}
	action {SW_command gnugen_translator install %f %f_com.log}
	design {meister/%f.tr}
	log    {meister/%f_com.log}
       }	
     }
  }
}

ASM_Generation{
  ASMmodel {
    engine {
      0 {
	title {Assembler description generation}
	action {SW_command asm_translator asmdev %f %f_asm.log}
	design {meister/%f.tr}
	log    {meister/%f_asm.log}
      }
    }
  }
}

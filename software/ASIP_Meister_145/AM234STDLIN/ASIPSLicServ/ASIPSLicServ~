#!/bin/bash
#
# license server startup script for linux
#
# copyright (c) 2011 asip solutions, inc. all rights reserved.
#

# edit lines below to match your configuration
JAVA_HOME=/usr/java/default
SERVER_PATH=/usr/local/ASIPSLicServ
LICENSE_FILE_PATH=/usr/local/ASIPSLicServ/ASIPmeister_001.lic
SERVER_PORT=29000
# end edit lines

case "$1" in
start)
  $SERVER_PATH/jsvc \
    -home $JAVA_HOME \
    -cp $SERVER_PATH/ASIPSLicServ.jar:$SERVER_PATH/commons-daemon-1.0.7.jar \
    -outfile $SERVER_PATH/ASIPSLicServ.log \
    -errfile $SERVER_PATH/ASIPSLicServ_err.log \
    -pidfile $SERVER_PATH/ASIPSLicServ.pid \
    ASIPSLicServ $LICENSE_FILE_PATH $SERVER_PORT
  exit $?
  ;;
stop)
  $SERVER_PATH/jsvc \
    -stop \
    -pidfile $SERVER_PATH/ASIPSLicServ.pid \
    ASIPSLicServ
  exit $?
  ;;
*)
  echo 'usage: ASIPSLicServ start|stop'
  exit 1
esac
